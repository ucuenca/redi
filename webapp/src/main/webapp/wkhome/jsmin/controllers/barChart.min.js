wkhomeControllers.controller("barChart",["$scope","globalData","sparqlQuery","clustersQuery","searchData","$route","$window",function(a,o,t,n,e,r){var c=[],u=o.PREFIX+" CONSTRUCT  {       ?prov uc:total ?totalp.     ?prov uc:name ?sname. }  WHERE { {     SELECT DISTINCT (SAMPLE(?provenance)  as ?prov) (SAMPLE(?sourcename)  as ?sname)  (count(DISTINCT ?pub) as ?totalp)         WHERE {             GRAPH <"+o.centralGraph+"> {                 ?s a foaf:Person.                 ?s foaf:publications ?pub.                 ?pub dct:title ?title.                 ?s dct:provenance ?provenance.                      {                      SELECT *                      WHERE                      {                          graph <"+o.endpointsGraph+">                          {            \t\t\t?provenance uc:name ?sourcename                          }                      }                  }              }         }group by ?provenance  }  }";t.query({query:u},function(n){jsonld.compact(n,o.CONTEXT,function(n,e){var r=e["@graph"];r&&_.map(r,function(n){var e=n["@id"],r=n["uc:name"],u=n["uc:total"]["@value"],p=o.PREFIX+" CONSTRUCT  {  <"+e+"> uc:total ?totalAuthors. }  WHERE { {     SELECT DISTINCT (count(DISTINCT ?s) as ?totalAuthors)     WHERE {         GRAPH <"+o.centralGraph+"> {             ?s foaf:publications ?pub.             ?s dct:provenance <"+e+">.        }     }   }  } ";t.query({query:p},function(t){jsonld.compact(t,o.CONTEXT,function(o,t){var n=t["@graph"][0],e=n["uc:total"]["@value"];n["@id"];c.push({Source:r,freq:{Autores:e,Publicaciones:u,Salud:0}}),a.$apply(function(){a.data=c})})})})})})}]);