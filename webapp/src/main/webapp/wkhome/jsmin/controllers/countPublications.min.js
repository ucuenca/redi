wkhomeControllers.controller("countPublications",["$window","$routeParams","$scope","searchData","globalData","sparqlQuery",function(a,n,o,e,t,c){o.ifClick=function(o){e.genericData=o,a.location.hash="/"+n.lang+"/w/cloud?datacloud"};var r=t.PREFIX+" CONSTRUCT  {       ?prov uc:total ?totalp.     ?prov uc:name ?sname. }  WHERE { {     SELECT DISTINCT (SAMPLE(?provenance)  as ?prov) (SAMPLE(?sourcename)  as ?sname)  (count(DISTINCT ?pub) as ?totalp)         WHERE {             GRAPH <"+t.centralGraph+"> {                 ?s a foaf:Person.                 ?s foaf:name ?name.                 ?s foaf:publications ?pub.                 ?s dct:provenance ?provenance.                      {                      SELECT *                      WHERE                      {                          graph <"+t.endpointsGraph+">                          {            \t\t\t?provenance uc:name ?sourcename                          }                      }                  }              }         }group by ?provenance  }  }";c.querySrv({query:r},function(a){jsonld.compact(a,t.CONTEXT,function(a,n){var e=n["@graph"],t=[];e.forEach(function(a){var n=a["uc:name"];t.push({label:n,value:a["uc:total"]["@value"]})}),o.$apply(function(){o.data={entityName:"Articles",data:t}})})})}]);